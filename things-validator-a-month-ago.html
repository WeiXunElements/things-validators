<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../iron-validator-behavior/iron-validator-behavior.html">

<!--
`<things-validator-a-month-ago>` A Month Ago Validator

  Example

    <things-input-field
      validator="things-validator-a-month-ago">
    </things-input-field>
-->

<script>
  Polymer({
    is: 'things-validator-a-month-ago',

    behaviors: [
      Polymer.IronValidatorBehavior,
    ],

    /**
     * 오늘 부터 한달 전 까지의 Date를 허용하는 validator
     * @param  {values} values
     * @return {Boolean}
     */
    validate: function(values) {
      var selectDate = new Date(values);
      var toDay = new Date();
      var aMonthAgo = new Date();
      aMonthAgo.setMonth(aMonthAgo.getMonth() -1);
      var aMonthAgo = new Date(aMonthAgo);

      if(selectDate >= aMonthAgo && selectDate <= toDay || values == '') {
        return true;
      } else {
        return false;
      }
    }
  });
</script>
